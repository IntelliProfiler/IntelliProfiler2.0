# IntelliProfiler 2.0  
### A research workflow for multi-animal behavioral analysis using R

This repository provides the source code for **IntelliProfiler 2.0**,  
a research-oriented workflow implemented in R for analyzing locomotor activity
and social proximity in group-housed mice.

IntelliProfiler processes positional data acquired from a commercially available
high-resolution RFID floor plate (eeeHive2D, Phenovance LLC, Japan; Lipp et al., 2024).
The workflow generates automated, quantitative behavioral metrics and visualizations
for downstream behavioral and statistical analyses.

> ⚠️ **Note**  
> IntelliProfiler is a *research workflow*. It does **not** include or control any RFID
> hardware components. Users must obtain compatible RFID tracking systems
> (e.g., eeeHive2D) separately.  
> This pipeline has not been validated with other hardware configurations.

---

## References

Details of the IntelliProfiler workflow are described in the following preprint:

**IntelliProfiler 2.0: A high-throughput R-based pipeline for behavioral analysis  
of group-housed mice tracked with a high-resolution RFID system**  
*(bioRxiv, 2025)*

---

## Overview of the Workflow

IntelliProfiler 2.0 is conceptually divided into two stages:

- **General**: preprocessing 
- **Analysis**: higher-level behavioral metrics, visualization, and group comparisons

This separation allows flexible reuse of intermediate data and modular extension
of analysis scripts.

---
## General: Preprocessing

The **General** stage performs preprocessing of raw RFID log files and reconstructs
continuous, time-aligned XY trajectories for each animal.
Raw logs from multiple RFID boards are merged, converted into a unified coordinate
system, and aligned to 1-second resolution with missing-value handling.
The output of this stage is exported as Excel files containing per-second XY positions.
These Excel files serve as the **input data** for all downstream modules in the
**Analysis** stage.

---
## Analysis: Behavioral Metrics and Visualization

The **Analysis** stage computes behavioral metrics from the preprocessed XY trajectory
data generated by the General stage.
Excel files containing per-second XY positions are used as input to calculate
locomotor activity, inter-individual distance, and close contact ratio (CCR),
followed by temporal summarization, statistical comparison, and visualization.
The Analysis stage produces figures and aggregated summary tables as final outputs.

---

## Prerequisites

The following R packages are required to run the core scripts:

- `tidyverse`
- `openxlsx`
- `lubridate`

Additional packages may be required depending on the selected analysis modules.

---

## Directory Structure
```text
IntelliProfiler2.0/
├─ scripts/
│ │ 
│ ├─ general/ # preprocessing and core feature extraction
│ │ └─ IP_general.R
│ │ 
│ └─ analysis/ # downstream analysis modules
│    ├─ social_distance.R
│    └─ group_compare.R
│ 
├─ data/
│ └─ example/ # example RFID log files
│ 
├─ results/
│ └─ example/ # example outputs (Excel, figures)
│ 
├─ config/ # optional configuration files
│ 
└─ README.md
```

---
## Future Citation
Once published, please cite: **Ochi S#, Azuma M#, Hara I, Inada H, Takabayashi K, Osumi N  IntelliProfiler 2.0: A high-throughput R-based pipeline for behavioral analysis of group-housed mice tracked with a high-resolution RFID system ''
 
---
## License
This project is licensed under the MIT License see the LICENSE file for details
